{"version":3,"file":"1-timer-989b3cc6.js","sources":["../../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nconst ref = {\n    inputForPickingDate: document.querySelector('#datetime-picker'),\n    countDownStartbutton: document.querySelector('button[data-start]'),\n    fieldForDays: document.querySelector('span[data-days]'),\n    fieldForHours: document.querySelector('span[data-hours]'),\n    fieldForMinutes: document.querySelector('span[data-minutes]'),\n    fieldForSeconds: document.querySelector('span[data-seconds]'),\n    };\nlet countDownInterval;\nlet differ = 0;\nfunction addLeadingZero(value) {\n    return String(value).padStart(2, '0');\n}\nfunction showWarningMessage() {\n    iziToast.warning({\n        color: 'red',\n    message: 'Please choose a date in the future',\n    position: 'topCenter',\n    });\n}\nfunction addClassOnCountDownStartButton(className) {\n    ref.countDownStartbutton.classList.add(className);\n    \n}\nfunction removeClassOnCountDownStartButton(className) {\n    ref.countDownStartbutton.classList.remove(className);\n  }\n\nfunction onCountDownStartButtonClick() {\n    ref.countDownStartbutton.removeEventListener('click', onCountDownStartButtonClick);\n    removeClassOnCountDownStartButton('is-active');\n        countDownInterval = setInterval(() => {\n        differ = differ - 1000;\n        if (differ <= 0) { clearInterval(countDownInterval); }\n        else {\n            fillInTimeFields(differ);\n        }\n    },1000)\n\n}\nfunction fillInTimeFields(differ) {\n    const { days, hours, minutes, seconds } = convertMs(differ);\n    ref.fieldForDays.textContent = `${days}`;\n    ref.fieldForHours.textContent = `${hours}`;\n    ref.fieldForMinutes.textContent = `${minutes}`;\n    ref.fieldForSeconds.textContent = `${seconds}`;\n}\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n    onClose(selectedDates) {\n         if (options.defaultDate < selectedDates[0]) {\n          differ=selectedDates[0]-options.defaultDate;\n          addClassOnCountDownStartButton('is-active');\n          ref.countDownStartbutton.addEventListener('click', onCountDownStartButtonClick);\n          \n      }\n      else {\n          clearInterval(countDownInterval);\n          ref.countDownStartbutton.removeEventListener('click', onCountDownStartButtonClick);\n          removeClassOnCountDownStartButton('is-active')\n          showWarningMessage();\n          fillInTimeFields(0);\n          \n      };\n       },\n};\n\nflatpickr(ref.inputForPickingDate, options);\n\nfunction convertMs(ms) {\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n  const days = addLeadingZero(Math.floor(ms / day));\n  const hours = addLeadingZero(Math.floor((ms % day) / hour));\n  const minutes =addLeadingZero(Math.floor(((ms % day) % hour) / minute));\n  const seconds = addLeadingZero(Math.floor((((ms % day) % hour) % minute) / second));\n  return { days, hours, minutes, seconds };\n}\n\n"],"names":["ref","countDownInterval","differ","addLeadingZero","value","showWarningMessage","iziToast","addClassOnCountDownStartButton","className","removeClassOnCountDownStartButton","onCountDownStartButtonClick","fillInTimeFields","days","hours","minutes","seconds","convertMs","options","selectedDates","flatpickr","ms"],"mappings":"gDAIA,MAAMA,EAAM,CACR,oBAAqB,SAAS,cAAc,kBAAkB,EAC9D,qBAAsB,SAAS,cAAc,oBAAoB,EACjE,aAAc,SAAS,cAAc,iBAAiB,EACtD,cAAe,SAAS,cAAc,kBAAkB,EACxD,gBAAiB,SAAS,cAAc,oBAAoB,EAC5D,gBAAiB,SAAS,cAAc,oBAAoB,CAChE,EACA,IAAIC,EACAC,EAAS,EACb,SAASC,EAAeC,EAAO,CAC3B,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,CACxC,CACA,SAASC,GAAqB,CAC1BC,EAAS,QAAQ,CACb,MAAO,MACX,QAAS,qCACT,SAAU,WACd,CAAK,CACL,CACA,SAASC,EAA+BC,EAAW,CAC/CR,EAAI,qBAAqB,UAAU,IAAIQ,CAAS,CAEpD,CACA,SAASC,EAAkCD,EAAW,CAClDR,EAAI,qBAAqB,UAAU,OAAOQ,CAAS,CACpD,CAEH,SAASE,GAA8B,CACnCV,EAAI,qBAAqB,oBAAoB,QAASU,CAA2B,EACjFD,EAAkC,WAAW,EACzCR,EAAoB,YAAY,IAAM,CACtCC,EAASA,EAAS,IACdA,GAAU,EAAK,cAAcD,CAAiB,EAE9CU,EAAiBT,CAAM,CAE9B,EAAC,GAAI,CAEV,CACA,SAASS,EAAiBT,EAAQ,CAC9B,KAAM,CAAE,KAAAU,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,GAAYC,EAAUd,CAAM,EAC1DF,EAAI,aAAa,YAAc,GAAGY,CAAI,GACtCZ,EAAI,cAAc,YAAc,GAAGa,CAAK,GACxCb,EAAI,gBAAgB,YAAc,GAAGc,CAAO,GAC5Cd,EAAI,gBAAgB,YAAc,GAAGe,CAAO,EAChD,CAEA,MAAME,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACf,QAAQC,EAAe,CACdD,EAAQ,YAAcC,EAAc,CAAC,GACxChB,EAAOgB,EAAc,CAAC,EAAED,EAAQ,YAChCV,EAA+B,WAAW,EAC1CP,EAAI,qBAAqB,iBAAiB,QAASU,CAA2B,IAI9E,cAAcT,CAAiB,EAC/BD,EAAI,qBAAqB,oBAAoB,QAASU,CAA2B,EACjFD,EAAkC,WAAW,EAC7CJ,IACAM,EAAiB,CAAC,EAGpB,CACR,EAEAQ,EAAUnB,EAAI,oBAAqBiB,CAAO,EAE1C,SAASD,EAAUI,EAAI,CAKrB,MAAMR,EAAOT,EAAe,KAAK,MAAMiB,EAAK,KAAG,CAAC,EAC1CP,EAAQV,EAAe,KAAK,MAAOiB,EAAK,MAAO,IAAI,CAAC,EACpDN,EAASX,EAAe,KAAK,MAAQiB,EAAK,MAAO,KAAQ,GAAM,CAAC,EAChEL,EAAUZ,EAAe,KAAK,MAASiB,EAAK,MAAO,KAAQ,IAAU,GAAM,CAAC,EAClF,MAAO,CAAE,KAAAR,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC"}