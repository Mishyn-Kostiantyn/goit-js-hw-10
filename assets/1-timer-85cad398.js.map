{"version":3,"file":"1-timer-85cad398.js","sources":["../../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nconst ref = {\n    inputForPickingDate: document.querySelector('#datetime-picker'),\n    countDownStartbutton: document.querySelector('button[data-start]'),\n    fieldForDays: document.querySelector('span[data-days]'),\n    fieldForHours: document.querySelector('span[data-hours]'),\n    fieldForMinutes: document.querySelector('span[data-minutes]'),\n    fieldForSeconds: document.querySelector('span[data-seconds]'),\n    };\nlet countDownInterval;\nlet differ = 0;\nlet isActive = false;\nfunction addLeadingZero(value) {\n    return String(value).padStart(2, '0');\n};\nfunction showWarningMessage() {\n    iziToast.warning({\n        color: 'red',\n    message: 'Please choose a date in the future',\n    position: 'topCenter',\n    });\n};\nfunction showErrorMessage() {\n    iziToast.error({\n    title: '',\n    message: 'RESTART THE PAGE TO START NEW COUNTDOWN!',\n    position: 'topCenter',\n});\n}\nfunction onCountDownStartButtonClick() {\n    ref.countDownStartbutton.removeEventListener('click', onCountDownStartButtonClick);\n    ref.countDownStartbutton.classList.remove('is-active');\n    isActive = true;\n    let dif = differ\n        countDownInterval = setInterval(() => {\n         dif = dif - 1000;\n            if (dif <= 0) { clearInterval(countDownInterval); isActive = false; }\n        else {\n            fillInTimeFields(dif);\n        }\n    },1000)\n\n};\nfunction fillInTimeFields(differ) {\n    const { days, hours, minutes, seconds } = convertMs(differ);\n    ref.fieldForDays.textContent = `${addLeadingZero(days)}`;\n    ref.fieldForHours.textContent = `${addLeadingZero(hours)}`;\n    ref.fieldForMinutes.textContent = `${addLeadingZero(minutes)}`;\n    ref.fieldForSeconds.textContent = `${addLeadingZero(seconds)}`;\n}\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n    onClose(selectedDates) {\n        if (options.defaultDate >= selectedDates[0] && !isActive)\n        { \n        ref.countDownStartbutton.removeEventListener('click', onCountDownStartButtonClick)    \n        ref.countDownStartbutton.classList.remove('is-active');\n        showWarningMessage();\n                };\n        if (options.defaultDate < selectedDates[0] && !isActive) {\n            differ = selectedDates[0] - options.defaultDate;\n        ref.countDownStartbutton.classList.add('is-active');\n            ref.countDownStartbutton.addEventListener('click', onCountDownStartButtonClick);\n        };\n        if (isActive) { showErrorMessage() };\n    },\n    \n};\n\nflatpickr(ref.inputForPickingDate, options);\n\nfunction convertMs(ms) {\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n  const days = Math.floor(ms / day);\n  const hours = Math.floor((ms % day) / hour);\n  const minutes =Math.floor(((ms % day) % hour) / minute);\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n  return { days, hours, minutes, seconds };\n}\n\n"],"names":["ref","countDownInterval","differ","isActive","addLeadingZero","value","showWarningMessage","iziToast","showErrorMessage","onCountDownStartButtonClick","dif","fillInTimeFields","days","hours","minutes","seconds","convertMs","options","selectedDates","flatpickr","ms"],"mappings":"gDAIA,MAAMA,EAAM,CACR,oBAAqB,SAAS,cAAc,kBAAkB,EAC9D,qBAAsB,SAAS,cAAc,oBAAoB,EACjE,aAAc,SAAS,cAAc,iBAAiB,EACtD,cAAe,SAAS,cAAc,kBAAkB,EACxD,gBAAiB,SAAS,cAAc,oBAAoB,EAC5D,gBAAiB,SAAS,cAAc,oBAAoB,CAChE,EACA,IAAIC,EACAC,EAAS,EACTC,EAAW,GACf,SAASC,EAAeC,EAAO,CAC3B,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,CACxC,CACA,SAASC,GAAqB,CAC1BC,EAAS,QAAQ,CACb,MAAO,MACX,QAAS,qCACT,SAAU,WACd,CAAK,CACL,CACA,SAASC,GAAmB,CACxBD,EAAS,MAAM,CACf,MAAO,GACP,QAAS,2CACT,SAAU,WACd,CAAC,CACD,CACA,SAASE,GAA8B,CACnCT,EAAI,qBAAqB,oBAAoB,QAASS,CAA2B,EACjFT,EAAI,qBAAqB,UAAU,OAAO,WAAW,EACrDG,EAAW,GACX,IAAIO,EAAMR,EACND,EAAoB,YAAY,IAAM,CACrCS,EAAMA,EAAM,IACLA,GAAO,GAAK,cAAcT,CAAiB,EAAGE,EAAW,IAE7DQ,EAAiBD,CAAG,CAE3B,EAAC,GAAI,CAEV,CACA,SAASC,EAAiBT,EAAQ,CAC9B,KAAM,CAAE,KAAAU,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,GAAYC,EAAUd,CAAM,EAC1DF,EAAI,aAAa,YAAc,GAAGI,EAAeQ,CAAI,CAAC,GACtDZ,EAAI,cAAc,YAAc,GAAGI,EAAeS,CAAK,CAAC,GACxDb,EAAI,gBAAgB,YAAc,GAAGI,EAAeU,CAAO,CAAC,GAC5Dd,EAAI,gBAAgB,YAAc,GAAGI,EAAeW,CAAO,CAAC,EAChE,CAEA,MAAME,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACf,QAAQC,EAAe,CACfD,EAAQ,aAAeC,EAAc,CAAC,GAAK,CAACf,IAEhDH,EAAI,qBAAqB,oBAAoB,QAASS,CAA2B,EACjFT,EAAI,qBAAqB,UAAU,OAAO,WAAW,EACrDM,KAEIW,EAAQ,YAAcC,EAAc,CAAC,GAAK,CAACf,IAC3CD,EAASgB,EAAc,CAAC,EAAID,EAAQ,YACxCjB,EAAI,qBAAqB,UAAU,IAAI,WAAW,EAC9CA,EAAI,qBAAqB,iBAAiB,QAASS,CAA2B,GAE9EN,GAAYK,EAAgB,CACnC,CAEL,EAEAW,EAAUnB,EAAI,oBAAqBiB,CAAO,EAE1C,SAASD,EAAUI,EAAI,CAKrB,MAAMR,EAAO,KAAK,MAAMQ,EAAK,KAAG,EAC1BP,EAAQ,KAAK,MAAOO,EAAK,MAAO,IAAI,EACpCN,EAAS,KAAK,MAAQM,EAAK,MAAO,KAAQ,GAAM,EAChDL,EAAU,KAAK,MAASK,EAAK,MAAO,KAAQ,IAAU,GAAM,EAClE,MAAO,CAAE,KAAAR,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC"}