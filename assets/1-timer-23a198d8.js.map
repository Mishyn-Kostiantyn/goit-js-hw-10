{"version":3,"file":"1-timer-23a198d8.js","sources":["../../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nconst ref = {\n    inputForPickingDate: document.querySelector('#datetime-picker'),\n    countDownStartbutton: document.querySelector('button[data-start]'),\n    fieldForDays: document.querySelector('span[data-days]'),\n    fieldForHours: document.querySelector('span[data-hours]'),\n    fieldForMinutes: document.querySelector('span[data-minutes]'),\n    fieldForSeconds: document.querySelector('span[data-seconds]'),\n};\n// ref.countDownStartbutton.setAttribute(\"desabled\",\"true\");\nlet countDownInterval;\nlet dateInFuture = 0;\nlet isActive = false;\nfunction addLeadingZero(value) {\n    return String(value).padStart(2, '0');\n};\nfunction showWarningMessage() {\n    iziToast.warning({\n        color: 'red',\n    message: 'Please choose a date in the future',\n    position: 'topCenter',\n    });\n};\nfunction showErrorMessage() {\n    iziToast.error({\n    title: '',\n    message: 'RESTART THE PAGE TO START NEW COUNTDOWN! OR WAIT TILL THE END OF CURRENT COUNTDOWN!',\n    position: 'topCenter',\n});\n}\nfunction onCountDownStartButtonClick() {\n    ref.countDownStartbutton.setAttribute(\"desabled\", \"true\");\n    ref.countDownStartbutton.removeEventListener('click', onCountDownStartButtonClick);\n    ref.countDownStartbutton.classList.remove('is-active');\n    isActive = true;\n    let futureDate = dateInFuture;\n    let dif = futureDate-new Date();\n    console.log(dif);\n        countDownInterval = setInterval(() => {\n         dif = dif - 1000;\n            if (dif <= 0) { clearInterval(countDownInterval); isActive = false; }\n        else {\n            fillInTimeFields(dif);\n        }\n    },1000)\n\n};\nfunction fillInTimeFields(differ) {\n    const { days, hours, minutes, seconds } = convertMs(differ);\n    ref.fieldForDays.textContent = `${addLeadingZero(days)}`;\n    ref.fieldForHours.textContent = `${addLeadingZero(hours)}`;\n    ref.fieldForMinutes.textContent = `${addLeadingZero(minutes)}`;\n    ref.fieldForSeconds.textContent = `${addLeadingZero(seconds)}`;\n}\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n    onClose(selectedDates) {\n        if (new Date() >= selectedDates[0] && !isActive)\n        { \n        ref.countDownStartbutton.setAttribute(\"desabled\", \"true\");    \n        ref.countDownStartbutton.classList.remove('is-active');\n        showWarningMessage();\n                };\n        if (new Date() < selectedDates[0] && !isActive) {\n            dateInFuture = selectedDates[0];\n            ref.countDownStartbutton.classList.add('is-active');\n            ref.countDownStartbutton.setAttribute(\"desabled\",\"false\")\n            ref.countDownStartbutton.addEventListener('click', onCountDownStartButtonClick);\n        };\n        if (isActive) { showErrorMessage() };\n    },\n    \n};\nflatpickr(ref.inputForPickingDate, options);\n\nfunction convertMs(ms) {\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n  const days = Math.floor(ms / day);\n  const hours = Math.floor((ms % day) / hour);\n  const minutes =Math.floor(((ms % day) % hour) / minute);\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n  return { days, hours, minutes, seconds };\n}\n\n"],"names":["ref","countDownInterval","dateInFuture","isActive","addLeadingZero","value","showWarningMessage","iziToast","showErrorMessage","onCountDownStartButtonClick","dif","fillInTimeFields","differ","days","hours","minutes","seconds","convertMs","options","selectedDates","flatpickr","ms"],"mappings":"gDAIA,MAAMA,EAAM,CACR,oBAAqB,SAAS,cAAc,kBAAkB,EAC9D,qBAAsB,SAAS,cAAc,oBAAoB,EACjE,aAAc,SAAS,cAAc,iBAAiB,EACtD,cAAe,SAAS,cAAc,kBAAkB,EACxD,gBAAiB,SAAS,cAAc,oBAAoB,EAC5D,gBAAiB,SAAS,cAAc,oBAAoB,CAChE,EAEA,IAAIC,EACAC,EAAe,EACfC,EAAW,GACf,SAASC,EAAeC,EAAO,CAC3B,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,CACxC,CACA,SAASC,GAAqB,CAC1BC,EAAS,QAAQ,CACb,MAAO,MACX,QAAS,qCACT,SAAU,WACd,CAAK,CACL,CACA,SAASC,GAAmB,CACxBD,EAAS,MAAM,CACf,MAAO,GACP,QAAS,sFACT,SAAU,WACd,CAAC,CACD,CACA,SAASE,GAA8B,CACnCT,EAAI,qBAAqB,aAAa,WAAY,MAAM,EACxDA,EAAI,qBAAqB,oBAAoB,QAASS,CAA2B,EACjFT,EAAI,qBAAqB,UAAU,OAAO,WAAW,EACrDG,EAAW,GAEX,IAAIO,EADaR,EACI,IAAI,KACzB,QAAQ,IAAIQ,CAAG,EACXT,EAAoB,YAAY,IAAM,CACrCS,EAAMA,EAAM,IACLA,GAAO,GAAK,cAAcT,CAAiB,EAAGE,EAAW,IAE7DQ,EAAiBD,CAAG,CAE3B,EAAC,GAAI,CAEV,CACA,SAASC,EAAiBC,EAAQ,CAC9B,KAAM,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,GAAYC,EAAUL,CAAM,EAC1DZ,EAAI,aAAa,YAAc,GAAGI,EAAeS,CAAI,CAAC,GACtDb,EAAI,cAAc,YAAc,GAAGI,EAAeU,CAAK,CAAC,GACxDd,EAAI,gBAAgB,YAAc,GAAGI,EAAeW,CAAO,CAAC,GAC5Df,EAAI,gBAAgB,YAAc,GAAGI,EAAeY,CAAO,CAAC,EAChE,CAEA,MAAME,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACf,QAAQC,EAAe,CACf,IAAI,MAAUA,EAAc,CAAC,GAAK,CAAChB,IAEvCH,EAAI,qBAAqB,aAAa,WAAY,MAAM,EACxDA,EAAI,qBAAqB,UAAU,OAAO,WAAW,EACrDM,KAEI,IAAI,KAASa,EAAc,CAAC,GAAK,CAAChB,IAClCD,EAAeiB,EAAc,CAAC,EAC9BnB,EAAI,qBAAqB,UAAU,IAAI,WAAW,EAClDA,EAAI,qBAAqB,aAAa,WAAW,OAAO,EACxDA,EAAI,qBAAqB,iBAAiB,QAASS,CAA2B,GAE9EN,GAAYK,EAAgB,CACnC,CAEL,EACAY,EAAUpB,EAAI,oBAAqBkB,CAAO,EAE1C,SAASD,EAAUI,EAAI,CAKrB,MAAMR,EAAO,KAAK,MAAMQ,EAAK,KAAG,EAC1BP,EAAQ,KAAK,MAAOO,EAAK,MAAO,IAAI,EACpCN,EAAS,KAAK,MAAQM,EAAK,MAAO,KAAQ,GAAM,EAChDL,EAAU,KAAK,MAASK,EAAK,MAAO,KAAQ,IAAU,GAAM,EAClE,MAAO,CAAE,KAAAR,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC"}